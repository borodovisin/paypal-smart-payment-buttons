!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define("serviceWorker",[],n):"object"==typeof exports?exports.serviceWorker=n():e.serviceWorker=n()}("undefined"!=typeof self?self:this,(function(){return function(e){var n={};function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}return t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)t.d(o,r,function(n){return e[n]}.bind(null,r));return o},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return{}.hasOwnProperty.call(e,n)},t.p="",t(t.s=0)}([function(e,n){var t,o=Boolean(["localhost","[::1]","localhost.paypal.com"].includes(window.location.hostname)||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)),r=new BroadcastChannel("logs-channel");r.onmessage=function(e){var n=e.data,o=n.payload,r=void 0!==o&&o;r&&n.requestId===t&&"GET_SW_LOGS_RESPONSE"===n.eventName&&console.log("SW logs received",r)};var i,c,a,s,u=function(){t=Date.now(),r.postMessage({requestId:t,type:"GET_SW_LOGS"})};function l(e){navigator.serviceWorker&&navigator.serviceWorker.register(e,{scope:"/checkoutweb"}).then((function(e){console.log("SW Registered",e),e.addEventListener("updatefound",(function(){var n=e.installing;n&&n.addEventListener("statechange",(function(){var e=n.state;console.log("SW state",e),"activated"===e&&u()}))}))})).catch((function(e){console.error("Error during service worker registration:",e)}))}function f(e,n){void 0===n&&(n=!1);var t=["releaseHash="+e];n&&t.push("userDir="+n);var r="https://localhost.paypal.com:8443/checkoutweb/public/dumbledore-service-worker.js?";r+=t.join("&"),o?function(e){fetch(e).then((function(n){var t=n.headers.get("content-type");404!==n.status&&t&&t.includes("javascript")?l(e):navigator.serviceWorker&&navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))}))})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(r):l(r)}c=(i=new URL(window.location.href)).searchParams.get("smokeHash"),a=i.searchParams.get("userDir"),s=window.enableServiceWorker,console.log("service worker eligibility: "+s),s&&"serviceWorker"in navigator&&(function(){for(var e=document.getElementsByClassName("paypal-button"),n=0;n<e.length;n++)e[n].addEventListener("click",u)}(),c&&a?f(c,a):new Promise((function(e,n){fetch("https://www.paypalobjects.com/checkoutweb/release/dumbledore/release-config.json").then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){n(e)})).then((function(n){console.log("release resolved"),e(n)}))})).then((function(e){e&&e.current&&f(e.current)})))}])}));